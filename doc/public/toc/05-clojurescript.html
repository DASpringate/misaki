<!DOCTYPE html>
<html lang="en"><head><meta content="width=device-width, initiali-scale=1.0, user-scalable=yes" name="viewport"><title>misaki - Clojurescript</title><link href="/favicon.ico" rel="shortcut icon"><link href="/atom.xml" rel="alternate" title="Clojurescript" type="application/atom-xml"><link href="/css/prettify.css" rel="stylesheet" type="text/css"><link href="http://fonts.googleapis.com/css?family=Josefin+Sans" rel="stylesheet" type="text/css"><link href="/css/main.css" rel="stylesheet" type="text/css"><link href="/css/smartphone.css" media="only screen and (max-device-width:480px)" rel="stylesheet" type="text/css"></head><body><a class="github_ribbon" href="https://github.com/liquidz/misaki"><img alt="Fork me on GitHub" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" style="position: absolute; top: 0; right: 0; border: 0;"></a><div class="container"><article><div class="page-header"><a href="/"><h1><span>C</span>lojurescript</h1></a><div class="tag"><ul></ul></div><p class="date"></p></div><div class="post"><h2><span>S</span>etting</h2><p class="paragraph">delete comment in <code class="prettyprint">_config.clj</code>.</p><pre class="prettyprint lang-clj">{
 ;; clojurescript compile options
 ;; src-dir base is `:template-dir`
 ;; output-dir base is `:public-dir`
 :cljs {:src-dir       &quot;cljs&quot;
        :output-to     &quot;js/main.js&quot;
        :optimizations :advanced}
 }</pre><h2><span>E</span>dit and compile</h2><p class="paragraph">Open template-dir/cljs/hello.cljs</p><pre class="prettyprint lang-clj">(ns hello)

(defn ^:export myalert [msg]
  (.alert js/window (str &quot;Hello, &quot; msg)))</pre><p class="paragraph">To call above function,</p><pre class="prettyprint">&lt;button onclick=&quot;hello.myalert('clojurescript world!!');&quot;&gt;
Call clojurescript function!
&lt;/button&gt;</pre><button onclick="hello.myalert('clojurescript world!!');">Call clojurescript function!</button><h3><span>F</span>ailed to compile?</h3><p class="paragraph">if you failed to compile clojurescript, try followings</p><ul><li><span>java.lang.AssertionError => <code class="prettyprint">cd MISAKI_HOME; rm -rf classes/cljs</code></span></li><li><span>Another error => <code class="prettyprint">cd CLJS_OUTPUT_DIR; rm hello.js; rm -rf cljs</code></span></li></ul><script src="../js/hello.js" type="text/javascript"></script><p class="back">&raquo; <a href="/">Back to Top</a></p></div></article><footer class="footer"><p><a href="http://twitter.com/uochan">@uochan</a>&nbsp; 2012</p><p>generated by <a href="https://github.com/liquidz/misaki"><img alt="misaki banner" src="/img/misaki_banner.png"></a></p></footer></div><script src="/js/prettify.js" type="text/javascript"></script><script src="/js/lang-clj.js" type="text/javascript"></script><script src="/js/main.js" type="text/javascript"></script></body></html>